# Документация к коду процессора

## Характеристики ##

+ В работе используется - ESP32-WROOM
+ Среда разработки - Arduino IDE 2.3.4 (требуется 1.8.10 и выше)
+ Используемая версия esp32 by Espressif Systems - 2.0.14
+ Board - ESP32 Dev Module
+ Port - COM7
+ Upload Speed - 912600 (в том числе и для Serial Monitor)
+ CPU Frequency - 240MHz (WI-FI/BT)
+ Библиотека - BluetoothSerial предустановленная в Arduino Core для ESP32
+ Схема системы для ленты - Schema1.jpg в этой же директории

## Ссылки ##

+ Arduino IDE - https://www.arduino.cc/en/software
+ Android Studio - https://developer.android.com/studio
+ Схема системы - https://github.com/EgorkaSQL/LED_strip/blob/main/for%20processor/Schema1.jpg

## Про код ##

Данный код позволяет управлять светодиодной лентой подключенной к ESP32-WROOM через BT. \
Управление осуществляется с помощью текстовых команд, которые включают режимы свечения ленты.\
Команды отправляются с помощью BT-терминала находящимся в устройстве - телефон.

## Код ##

### Функции ###

+ resetPins() - Функция для приведения диодов в изначальное состояние после отключения режимов/цветов
+ turnOnColor() - Функция, которая позволяет включить диоды с заданной яркостью. Использует PWM каналы чтобы плавно регулировать яркость (для слайдера)
+ setup() - Функция, которая устанавливает пины в OUTPUT и иинициализирует Bluetooth. Запускается перед началом работы, т.е отрабатывает тело 1 раз при включении.
+ loop() - Функция содержащая цикл. Она проверяет поступили ли команды через Bluetooth и выполняет действия в зависимости от команды

### Реализация ###

Для каждого из режимов или смены цветов предусмотрена своя команда, в ответ на которые запускается тело в котором меняется флаг режима.\
После этого выполняется сама реализация режима\
Ниже представлены режимы и их команды реагирования.

+ Синий цвет
  + On - M
  + Off - E
+ Красный цвет
  + On - Z
  + Off - X
+ Зеленый цвет
  + On - Q
  + Off - N
+ Синий и красный цвет
  + On - O
  + Off - R
+ Синий и зеленый цвет
  + On - 2
  + Off - V
+ Зеленый и красный цвет
  + On - b
  + Off - a
+ Blink
  + 3
  + 4
+ Fade
  + On - 5
  + Off - 6
+ Phonk
  + 7
  + 8
+ SOS
  + On - 9
  + Off - W
+ Flash
  + On - C
  + Off - D
+ Strobe
  + On - S
  + Off - A
+ Cold
  + On - G
  + Off - F
+ Romantic
  + On - J
  + Off - H
+ Relax
  + On - L
  + Off - K
+ Chill
  + On - 1
  + Off - P
+ Epileptics
  + On - U
  + Off - I
+ Police
  + On - T
  + Off - Y
